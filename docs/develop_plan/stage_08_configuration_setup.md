# –≠—Ç–∞–ø 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## –¶–µ–ª—å —ç—Ç–∞–ø–∞
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–≤–æ–¥–∞.

## –ó–∞–¥–∞—á–∏ —ç—Ç–∞–ø–∞

### 8.1 –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ò–∑—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É app_settings.py
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ OperationAggregationConfig
- –û—Ü–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã cascade_window –∏ timeout
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–æ–≤—ã–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

### 8.2 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### 8.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫ OperationLogger
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ñ–∞–π–ª–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 8.4 –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
```python
# –í src/core/app_settings.py
from dataclasses import dataclass, field
from typing import Dict, List, Optional, Union
from enum import Enum

@dataclass
class OperationLoggingConfig:
    """–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π"""
    
    # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    operation_time_frame: float = 1.0           # –û–∫–Ω–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–µ–∫)
    cascade_window: float = 1.0                 # –û–∫–Ω–æ –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–µ–∫)
    operation_timeout: float = 300.0            # –¢–∞–π–º–∞—É—Ç –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–µ–∫)
    nested_operation_timeout: float = 60.0      # –¢–∞–π–º–∞—É—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–µ–∫)
    
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    aggregate_nested_operations: bool = True    # –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    max_operation_depth: int = 10              # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
    enable_operation_grouping: bool = True      # –í–∫–ª—é—á–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –æ–ø–µ—Ä–∞—Ü–∏–π
    group_by_thread: bool = True               # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ø–æ—Ç–æ–∫–∞–º
      # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ (Rich)
    rich_enabled: bool = True                  # –í–∫–ª—é—á–∏—Ç—å Rich —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    rich_force_terminal: bool = False          # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
    rich_width: Optional[int] = None           # –®–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Å–æ–ª–∏ Rich
    rich_color_system: str = "auto"            # auto/standard/256/truecolor
    rich_theme: str = "default"                # –¢–µ–º–∞ Rich
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Rich —Ç–∞–±–ª–∏—Ü
    rich_table_box: str = "ROUNDED"            # ROUNDED/SQUARE/SIMPLE/HEAVY
    rich_header_style: str = "bold blue"       # –°—Ç–∏–ª—å –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Rich
    rich_title_style: str = "bold cyan"        # –°—Ç–∏–ª—å –∑–∞–≥–æ–ª–æ–≤–∫–∞ Rich —Ç–∞–±–ª–∏—Ü—ã
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Rich –ø–∞–Ω–µ–ª–µ–π –æ—à–∏–±–æ–∫
    rich_error_panel_style: str = "red"        # –°—Ç–∏–ª—å –ø–∞–Ω–µ–ª–∏ –æ—à–∏–±–æ–∫
    rich_error_box: str = "HEAVY"              # –°—Ç–∏–ª—å —Ä–∞–º–∫–∏ –æ—à–∏–±–æ–∫
    show_rich_error_panels: bool = True        # –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å Rich –ø–∞–Ω–µ–ª–∏ –æ—à–∏–±–æ–∫
    
    # –°–∏–º–≤–æ–ª—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    use_unicode_symbols: bool = True           # ‚úÖ/‚ùå —Å–∏–º–≤–æ–ª—ã
    timestamp_format: str = "%Y-%m-%d %H:%M:%S" # –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏
    duration_precision: int = 3                # –¢–æ—á–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ (–∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)
    max_error_message_length: int = 100        # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
    
    # –£—Ä–æ–≤–Ω–∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
    detail_level: str = "normal"               # minimal/normal/detailed/debug
    include_user_metrics: bool = True          # –í–∫–ª—é—á–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏
    include_file_metrics: bool = True          # –í–∫–ª—é—á–∞—Ç—å —Ñ–∞–π–ª–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
    include_performance_metrics: bool = True   # –í–∫–ª—é—á–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    
    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
    exclude_operations: List[str] = field(default_factory=list)  # –ò—Å–∫–ª—é—á—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    include_only_operations: List[str] = field(default_factory=list)  # –¢–æ–ª—å–∫–æ —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
    min_operation_duration: float = 0.0        # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    log_full_traceback: bool = False           # –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π traceback
    auto_recovery_enabled: bool = True         # –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    max_recovery_attempts: int = 3             # –ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
    
    # –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    enable_async_logging: bool = False         # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    buffer_size: int = 1000                    # –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –ª–æ–≥–æ–≤
    flush_interval: float = 5.0                # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–±—Ä–æ—Å–∞ –±—É—Ñ–µ—Ä–∞ (—Å–µ–∫)
```

### 8.5 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Rich —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```python
@dataclass
class RichFormattingConfig:
    """–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Rich —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü"""
    
    # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Rich
    enabled: bool = True                       # –í–∫–ª—é—á–∏—Ç—å Rich
    force_terminal: bool = False               # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
    width: Optional[int] = None                # –®–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Å–æ–ª–∏ (None = –∞–≤—Ç–æ)
    color_system: str = "auto"                 # –°–∏—Å—Ç–µ–º–∞ —Ü–≤–µ—Ç–æ–≤
    theme: str = "default"                     # –¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–±–ª–∏—Ü
    table_box_style: str = "ROUNDED"           # –°—Ç–∏–ª—å —Ä–∞–º–∫–∏ —Ç–∞–±–ª–∏—Ü
    show_table_header: bool = False            # –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫
    table_title_style: str = "bold cyan"       # –°—Ç–∏–ª—å –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
    table_border_style: str = "blue"           # –°—Ç–∏–ª—å –≥—Ä–∞–Ω–∏—Ü —Ç–∞–±–ª–∏—Ü—ã
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–Ω–æ–∫
    property_column_style: str = "cyan"        # –°—Ç–∏–ª—å –∫–æ–ª–æ–Ω–∫–∏ —Å–≤–æ–π—Å—Ç–≤
    value_column_style: str = "white"          # –°—Ç–∏–ª—å –∫–æ–ª–æ–Ω–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π
    property_column_width: int = 20            # –®–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ —Å–≤–æ–π—Å—Ç–≤
    value_column_width: int = 40               # –®–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–Ω–µ–ª–µ–π –æ—à–∏–±–æ–∫
    error_panel_enabled: bool = True           # –í–∫–ª—é—á–∏—Ç—å –ø–∞–Ω–µ–ª–∏ –æ—à–∏–±–æ–∫
    error_panel_style: str = "red"             # –°—Ç–∏–ª—å –ø–∞–Ω–µ–ª–∏ –æ—à–∏–±–æ–∫
    error_border_style: str = "red"            # –°—Ç–∏–ª—å –≥—Ä–∞–Ω–∏—Ü –ø–∞–Ω–µ–ª–∏ –æ—à–∏–±–æ–∫
    error_box_style: str = "HEAVY"             # –°—Ç–∏–ª—å —Ä–∞–º–∫–∏ –æ—à–∏–±–æ–∫
    
    # –≠–∫—Å–ø–æ—Ä—Ç –∏ –∑–∞–ø–∏—Å—å
    export_svg: bool = False                   # –≠–∫—Å–ø–æ—Ä—Ç –≤ SVG
    export_html: bool = False                  # –≠–∫—Å–ø–æ—Ä—Ç –≤ HTML
    record_mode: bool = False                  # –†–µ–∂–∏–º –∑–∞–ø–∏—Å–∏
    
    # –°–∏–º–≤–æ–ª—ã —Å—Ç–∞—Ç—É—Å–∞
    success_icon: str = "‚úÖ"                   # –ò–∫–æ–Ω–∫–∞ —É—Å–ø–µ—Ö–∞
    error_icon: str = "‚ùå"                     # –ò–∫–æ–Ω–∫–∞ –æ—à–∏–±–∫–∏
    timeout_icon: str = "‚è±Ô∏è"                  # –ò–∫–æ–Ω–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞
    running_icon: str = "üîÑ"                   # –ò–∫–æ–Ω–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```

### 8.6 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –æ–ø–µ—Ä–∞—Ü–∏–π
```python
@dataclass 
class OperationMetricsConfig:
    """–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ –æ–ø–µ—Ä–∞—Ü–∏–π"""
    
    # –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
    collect_timing_metrics: bool = True        # –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏
    collect_memory_metrics: bool = False       # –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø–∞–º—è—Ç–∏
    collect_cpu_metrics: bool = False          # –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ CPU
    collect_io_metrics: bool = True            # –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ I/O
    
    # –§–∞–π–ª–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
    track_file_operations: bool = True         # –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏
    track_file_sizes: bool = True              # –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤
    track_file_modifications: bool = True      # –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
    
    # –î–æ–º–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–¥–ª—è –∫–∏–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞)
    track_reaction_metrics: bool = True        # –ú–µ—Ç—Ä–∏–∫–∏ —Ä–µ–∞–∫—Ü–∏–π
    track_optimization_metrics: bool = True    # –ú–µ—Ç—Ä–∏–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    track_convergence_metrics: bool = True     # –ú–µ—Ç—Ä–∏–∫–∏ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    track_quality_metrics: bool = True         # –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (R¬≤, RMSE)
    
    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏
    allow_custom_metrics: bool = True          # –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏
    max_custom_metrics: int = 50               # –ú–∞–∫—Å–∏–º—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫
    custom_metrics_prefix: str = "user_"       # –ü—Ä–µ—Ñ–∏–∫—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫
```

## –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

### 8.7 –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```python
class OperationConfigManager:
    """–ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π"""
    
    def __init__(self):
        self._logging_config = OperationLoggingConfig()
        self._rich_config = RichFormattingConfig()
        self._metrics_config = OperationMetricsConfig()
        self._observers: List[Callable] = []
    
    def get_logging_config(self) -> OperationLoggingConfig:
        """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"""
        return self._logging_config
    
    def get_rich_config(self) -> RichFormattingConfig:
        """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Rich —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"""
        return self._rich_config
    
    def get_metrics_config(self) -> OperationMetricsConfig:
        """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫"""
        return self._metrics_config
    
    def update_config(self, config_dict: Dict[str, Any]):
        """–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ —Å–ª–æ–≤–∞—Ä—è"""
        for key, value in config_dict.items():
            if hasattr(self._logging_config, key):
                setattr(self._logging_config, key, value)
                self._notify_observers("logging", key, value)
            elif hasattr(self._table_config, key):
                setattr(self._table_config, key, value)
                self._notify_observers("table", key, value)
            elif hasattr(self._metrics_config, key):
                setattr(self._metrics_config, key, value)
                self._notify_observers("metrics", key, value)
    
    def load_from_file(self, config_path: str):
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–∞"""
        import json
        with open(config_path, 'r') as f:
            config_data = json.load(f)
        self.update_config(config_data)
    
    def save_to_file(self, config_path: str):
        """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ñ–∞–π–ª"""
        import json
        from dataclasses import asdict
          config_data = {
            "logging": asdict(self._logging_config),
            "rich": asdict(self._rich_config),
            "metrics": asdict(self._metrics_config)
        }
        
        with open(config_path, 'w') as f:
            json.dump(config_data, f, indent=2)
    
    def add_observer(self, observer: Callable):
        """–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
        self._observers.append(observer)
    
    def _notify_observers(self, section: str, key: str, value: Any):
        """–£–≤–µ–¥–æ–º–∏—Ç—å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏"""
        for observer in self._observers:
            observer(section, key, value)

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
config_manager = OperationConfigManager()
```

### 8.8 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```python
def load_config_from_env():
    """–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è"""
    import os
    
    env_mapping = {
        'SSK_OPERATION_TIME_FRAME': 'operation_time_frame',
        'SSK_OPERATION_TIMEOUT': 'operation_timeout',
        'SSK_ASCII_TABLES': 'ascii_tables_enabled',
        'SSK_TABLE_FORMAT': 'table_format',
        'SSK_DETAIL_LEVEL': 'detail_level',
        'SSK_USE_UNICODE': 'use_unicode_symbols',
    }
    
    config_updates = {}
    for env_var, config_key in env_mapping.items():
        if env_var in os.environ:
            value = os.environ[env_var]
            # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤
            if config_key.endswith('_enabled') or config_key.startswith('use_'):
                value = value.lower() in ('true', '1', 'yes', 'on')
            elif config_key.endswith('_frame') or config_key.endswith('_timeout'):
                value = float(value)
            
            config_updates[config_key] = value
    
    if config_updates:
        config_manager.update_config(config_updates)
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OperationLogger

### 8.9 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫ –ª–æ–≥–≥–µ—Ä—É
```python
class OperationLogger:
    def __init__(self):
        self._config_manager = config_manager
        self._config = self._config_manager.get_logging_config()
        
        # –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        self._config_manager.add_observer(self._on_config_changed)
    
    def _on_config_changed(self, section: str, key: str, value: Any):
        """–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
        if section == "logging":
            self._config = self._config_manager.get_logging_config()
            
            # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
            if key == "operation_timeout":
                self._update_operation_timeouts()
            elif key == "ascii_tables_enabled":
                self._toggle_table_output(value)
    
    def start_operation(self, operation_name: str, **context):
        """–ù–∞—á–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é —Å —É—á—ë—Ç–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
        
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π
        if self._config.exclude_operations and operation_name in self._config.exclude_operations:
            return
        
        if (self._config.include_only_operations and 
            operation_name not in self._config.include_only_operations):
            return
        
        # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
        if self._config.enable_operation_grouping:
            self._check_operation_grouping(operation_name)
        
        # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ start_operation
        super().start_operation(operation_name, **context)
    
    def end_operation(self, status: str = "SUCCESS", error_info: dict = None):
        """–ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é —Å —É—á—ë—Ç–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
        
        operation = self.get_current_operation()
        if not operation:
            return
        
        duration = time.time() - operation['start_time']
        
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        if duration < self._config.min_operation_duration:
            return
        
        # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ end_operation
        super().end_operation(status, error_info)
        
        # –í—ã–≤–µ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—É –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ
        if self._config.ascii_tables_enabled:
            table_formatter = self._get_table_formatter()
            table = table_formatter.format_operation_summary(operation)
            print(table)
```

### 8.10 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```python
def apply_timing_configuration():
    """–ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤"""
    
    config = config_manager.get_logging_config()
    
    # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π
    aggregator = get_operation_aggregator()
    aggregator.set_cascade_window(config.cascade_window)
    aggregator.set_grouping_timeframe(config.operation_time_frame)
    
    # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã
    operation_logger = get_operation_logger()
    operation_logger.set_operation_timeout(config.operation_timeout)
    operation_logger.set_nested_timeout(config.nested_operation_timeout)
    
    # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É
    if config.enable_operation_grouping:
        aggregator.enable_grouping()
        if config.group_by_thread:
            aggregator.set_group_by_thread(True)
    else:
        aggregator.disable_grouping()
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 8.11 –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```python
def validate_operation_config(config: OperationLoggingConfig) -> List[str]:
    """–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π"""
    
    errors = []
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    if config.operation_time_frame <= 0:
        errors.append("operation_time_frame must be positive")
    
    if config.operation_timeout <= 0:
        errors.append("operation_timeout must be positive") 
    
    if config.cascade_window < 0:
        errors.append("cascade_window must be non-negative")
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
    valid_detail_levels = ["minimal", "normal", "detailed", "debug"]
    if config.detail_level not in valid_detail_levels:
        errors.append(f"detail_level must be one of {valid_detail_levels}")
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
    valid_table_formats = ["ascii", "simple", "markdown", "none"]
    if config.table_format not in valid_table_formats:
        errors.append(f"table_format must be one of {valid_table_formats}")
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π
    if (config.exclude_operations and config.include_only_operations):
        errors.append("Cannot specify both exclude_operations and include_only_operations")
    
    return errors
```

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ —Ñ–∞–π–ª–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –¢–µ—Å—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –¢–µ—Å—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- –¢–µ—Å—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ç–∞–±–ª–∏—Ü –∏ —É—Ä–æ–≤–Ω–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
