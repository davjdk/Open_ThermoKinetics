# –í–≤–µ–¥–µ–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ **Open_ThermoKinetics** (–≤–µ—Ç–∫–∞ ui-refactor-plan) –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –≤ —Å–∏—Å—Ç–µ–º–µ
–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–º–æ–¥—É–ª—å **log_aggregator** ), –ø—Ä–∏–≤–æ–¥—è—â–∏–µ –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ
–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –ª–æ–≥–æ–≤. –õ–æ–≥–∏ –∏–∑ —Ñ–∞–π–ª–∞ aggregated ‚Äî –∫–æ–ø–∏—è.txt —Ñ–∏–∫—Å–∏—Ä—É—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö
–æ—à–∏–±–æ–∫ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (AggregatingHandler), –∫–æ—Ç–æ—Ä—ã–µ —Å–Ω–∏–∂–∞—é—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã. –¶–µ–ª—å
–¥–∞–Ω–Ω–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è ‚Äì —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∂–¥—É—é –Ω–∞–π–¥–µ–Ω–Ω—É—é –æ—à–∏–±–∫—É,
–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –∏—Ö –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –∏
–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º. –¢–∞–∫–∂–µ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω—ã –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ
–ø–æ–≤—ã—à–µ–Ω–∏—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ª–æ–≥–µ—Ä–∞.

–ù–∏–∂–µ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤ –ª–æ–≥–∞—Ö, —Å —É–∫–∞–∑–∞–Ω–∏–µ–º
–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω –≤ –∫–æ–¥–µ (—Å –æ—Ç—Å—ã–ª–∫–æ–π –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ –∏
–∫–ª–∞—Å—Å—ã) –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ö –ª–æ–≥–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–æ–¥—ã
–æ—à–∏–±–æ–∫, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∏ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏. –í—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Å
–∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

# –ü–µ—Ä–µ—á–µ–Ω—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏

# —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞

–í –ª–æ–≥–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ –æ—à–∏–±–æ–∫ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –ª–æ–≥–æ–≤ (–ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É
—Å–æ–æ–±—â–µ–Ω–∏—é). –ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã —ç—Ç–∏ –æ—à–∏–±–∫–∏ —Å –∫—Ä–∞—Ç–∫–æ–π —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π:

```
–û—à–∏–±–∫–∞ –≤ –º–µ—Ç–æ–¥–µ AggregatingHandler.emit:
```
```
ERROR - realtime_handler.py:166 - Error in AggregatingHandler.emit: not
all arguments converted during string formatting
```
```
–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–µ
(AggregatingHandler.emit) –≤–æ–∑–Ω–∏–∫–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ ‚Äúnot all arguments
converted during string formatting‚Äù —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–∞ ‚Äì
—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.
–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –ø–æ–ø—ã—Ç–∞–ª—Å—è –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Ö–æ–¥—è—â—É—é –∑–∞–ø–∏—Å—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å
–∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º TypeError –≤–æ –≤—Ä–µ–º—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
```
```
–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±—É—Ñ–µ—Ä–∞ (process_buffer):
```
```
ERROR - log_aggregator.realtime_handler - Error processing buffer: not
all arguments converted during string formatting
```
```
–î–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–≤–µ–¥–µ–Ω–æ —Å–∞–º–∏–º –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º (–ª–æ–≥–≥–µ—Ä
log_aggregator.realtime_handler) –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
```
## 1.

## 2.


```
–Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ò —Å–Ω–æ–≤–∞ –ø—Ä–∏—á–∏–Ω–∞ ‚Äì ‚Äúnot all arguments converted
during string formatting‚Äù , —á—Ç–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ —Å–±–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–π –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π
–ø—Ä–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ –∏–ª–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏. –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–µ —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
–Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –≤ –±—É—Ñ–µ—Ä–µ –∏–∑-–∑–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
```
```
–û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ (immediate error expansion):
```
```
ERROR - log_aggregator.realtime_handler - Error in immediate error
expansion: not all arguments converted during string formatting
```
```
–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
–æ—à–∏–±–∫–∏ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ErrorExpansionEngine , ‚Äú–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—à–∏–±–∫–∏‚Äù). –í
–ø—Ä–æ—Ü–µ—Å—Å–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ –≤–æ–∑–Ω–∏–∫–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ,
–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –¥–≤—É–º –ø—Ä–µ–¥—ã–¥—É—â–∏–º ‚Äì –ø—Ä–æ–±–ª–µ–º–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏. –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –ø–æ–π–º–∞–ª
—ç—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–µ–ª —Å–±–æ–π –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–±—Ä–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π
–∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏.
```
–ü–æ–º–∏–º–æ —Å–∞–º–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö, –≤ –ª–æ–≥–µ –≤–∏–¥–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (—Ä–∞–∑–¥–µ–ª—ã **DETAILED ERROR ANALYSIS** ). –≠—Ç–∏ –æ—Ç—á–µ—Ç—ã
—Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –æ—à–∏–±–∫–∏ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è
–æ—à–∏–±–∫–∏ Error in AggregatingHandler.emit –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º –±—ã–ª–æ –≤—ã–≤–µ–¥–µ–Ω–æ:

## ===============================================================================

## DETAILED ERROR ANALYSIS - ERROR

## ===============================================================================

```
Location: realtime_handler.py:
Message: Error in AggregatingHandler.emit: not all arguments converted
during string formatting
```
```
üìã PRECEDING CONTEXT:
----------------------------------------
```
1. [DEBUG] Expanded error: Error processing buffer: not all arguments
converted during string formatting (0.0s ago)
2. [ERROR] Error in immediate error expansion: not all arguments converted
during string formatting (0.0s ago)
... (–¥—Ä—É–≥–∏–µ –∑–∞–ø–∏—Å–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞) ...

```
SUGGESTED ACTIONS:
----------------------------------------
```
1. Check code in file realtime_handler.py:
===============================================================================

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –±–ª–æ–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –±—ã–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫, —á—Ç–æ
–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑—å –∏ –æ–±—â—É—é –ø—Ä–∏—Ä–æ–¥—É (–æ—à–∏–±–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è). –í —Ä–∞–∑–¥–µ–ª–µ
**PRECEDING CONTEXT** –≤–∏–¥–Ω–æ, —á—Ç–æ –æ—à–∏–±–∫–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ —Å–ª–µ–¥—É—é—Ç –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏
—Ü–µ–ø–æ—á–∫–æ–π (–æ—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±—É—Ñ–µ—Ä–∞ ‚Üí –æ—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ—à–∏–±–∫–∏ ‚Üí –æ—à–∏–±–∫–∞ emit), –æ–±—Ä–∞–∑—É—è
–∫–∞—Å–∫–∞–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–±–æ–µ–≤.

## 3.


# –ü—Ä–∏—á–∏–Ω—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–æ–∫

–ù–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ –ª–æ–≥–≥–µ—Ä–∞ –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã—Ö –≤—ã—à–µ –ª–æ–≥-—Å–æ–æ–±—â–µ–Ω–∏–π –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
–∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É –≤—Å–µ—Ö —Ç—Ä–µ—Ö –æ—à–∏–±–æ–∫: **–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è,
—Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞.** –í –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö –º–µ—Ç–æ–¥–æ–º
—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è LogRecord.getMessage(). –ù–∏–∂–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã –ø—Ä–∏—á–∏–Ω—ã –∫–∞–∂–¥–æ–π
–æ—à–∏–±–∫–∏ –∏ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–µ –∫ –Ω–∏–º –ø—Ä–∏–≤–æ–¥—è—Ç:

```
Error in AggregatingHandler.emit: –≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ emit –∫–ª–∞—Å—Å–∞
AggregatingHandler (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ñ–∞–π–ª–µ realtime_handler.py). –í –∫–æ–¥–µ –º–µ—Ç–æ–¥–∞
–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä—è–¥ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ—Å—Ç—É–ø–∞—é—â–µ–π –ª–æ–≥-–∑–∞–ø–∏—Å–∏. –í
—á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π (enable_value_aggregation=True)
–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ValueAggregator.process_message() –¥–ª—è —Å–∂–∞—Ç–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤
—Ç–µ–∫—Å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
```
```
ifself.enable_value_aggregationand record.levelno < logging.WARNING:
processed_message =
self.value_aggregator.process_message(buffered_record)
record.msg= processed_message
```
```
–í–Ω—É—Ç—Ä–∏ ValueAggregator.process_message (—Ñ–∞–π–ª value_aggregator.py) —Ç–µ–∫—É—â–∏–π
—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤–æ–º record.record.getMessage(). –ï—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω–æ–µ
—Å–æ–æ–±—â–µ–Ω–∏–µ –ª–æ–≥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, %s , %d ) –∏ –ø—Ä–∏ —ç—Ç–æ–º
–ø–µ—Ä–µ–¥–∞–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∏–ø–∞ –∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞, getMessage()
–≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ TypeError —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ ( ‚Äúnot all
arguments converted...‚Äù –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–º). –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ:
—Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ —Å–æ—à–ª–∏—Å—å –ø–æ —Ñ–æ—Ä–º–∞—Ç—É, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—é. –ü–æ—Å–∫–æ–ª—å–∫—É –≤
–º–µ—Ç–æ–¥–µ process_message –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–∫–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –æ—à–∏–±–∫–∞ ‚Äú–≤—Å–ø–ª—ã–ª–∞‚Äù
–æ–±—Ä–∞—Ç–Ω–æ –≤ emit. –í AggregatingHandler.emit –ø–æ–¥–æ–±–Ω–∞—è –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞
–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ–±—â–∏–º –±–ª–æ–∫–æ–º except Exception as e, –∫–æ—Ç–æ—Ä—ã–π –ª–∏—à—å –ª–æ–≥–∏—Ä—É–µ—Ç
–ø—Ä–æ–±–ª–µ–º—É:
```
```
except Exceptionase:
self._logger.error(f"Error in AggregatingHandler.emit: {e}")
self._forward_to_target(record) # –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–∞–ø—Ä—è–º—É—é
```
```
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Äì –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏
–ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è. –ú–µ—Ç–æ–¥—ã –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ
ValueAggregator.process_message) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É—Ç–∏–ª–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è
—Å–æ–æ–±—â–µ–Ω–∏–π –∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç TypeError. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
—Å –æ—à–∏–±–∫–æ–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–µ—Ç —Å–±–æ–π –¥–∞–Ω–Ω–æ–≥–æ —ç—Ç–∞–ø–∞.
```
```
Error processing buffer: –î–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–∞ —ç—Ç–∞–ø–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö
–∑–∞–ø–∏—Å–µ–π, –≤ –º–µ—Ç–æ–¥–µ AggregatingHandler._process_buffer (—Ñ–∞–π–ª
realtime_handler.py). –ü–æ—Å–ª–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∑–∞–ø–∏—Å–µ–π –∏–ª–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É
–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –∏–∑–≤–ª–µ–∫–∞–µ—Ç –±–∞—Ç—á –∏–∑ –±—É—Ñ–µ—Ä–∞ –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è
—Å–æ–æ–±—â–µ–Ω–∏–π:
```
## ‚Ä¢

## ‚Ä¢


```
records= self.buffer_manager.get_records_for_processing()
patterns= self.pattern_detector.detect_patterns(records)
aggregated_records= self.aggregation_engine.process_records(records,
patterns)
```
```
–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –≤ records —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–±–ª–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å
–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∫–∞–∫ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ), —Ç–æ –≤–Ω—É—Ç—Ä–∏
PatternDetector.detect_patterns –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –í –∫–ª–∞—Å—Å–µ
PatternDetector (—Ñ–∞–π–ª pattern_detector.py) –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ LogRecord.getMessage() –±–µ–∑ –∑–∞—â–∏—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ—É–Ω–∫—Ü–∏–∏
_detect_patterns_in_group —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Ç–∞–∫:
```
```
current_message= current_record.record.getMessage()
other_message= other_record.record.getMessage()
similarity= self._calculate_similarity(current_message, other_message)
```
```
–ï—Å–ª–∏ current_record –∏–ª–∏ other_record —Å–æ–¥–µ—Ä–∂–∞—Ç —Ñ–æ—Ä–º–∞—Ç–Ω—É—é —Å—Ç—Ä–æ–∫—É —Å
–Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –≤—ã–∑–æ–≤ getMessage() —Å–Ω–æ–≤–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç TypeError.
–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –º–µ—Ç–æ–¥
_create_pattern –±–µ—Ä–µ—Ç –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ records[0].record.getMessage()
(—Å–º. —Å—Ç—Ä–æ–∫—É 228) ‚Äì —Ç—É—Ç —Ç–æ–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –ö–æ–¥ PatternDetector –Ω–µ
–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–∏ –æ—à–∏–±–æ–∫, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –¥–æ—Ö–æ–¥—è—Ç –¥–æ _process_buffer. –í
_process_buffer –µ—Å—Ç—å –±–ª–æ–∫ except Exception as e, –∫–æ—Ç–æ—Ä—ã–π –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª ¬´Error
processing buffer: not all arguments converted during string formatting¬ª. –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã
—Ç–æ—Ç –∂–µ ‚Äì –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ
–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.
```
```
Error in immediate error expansion: –≠—Ç–∞ –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞
_handle_error_immediately –∫–ª–∞—Å—Å–∞ AggregatingHandler, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞
–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ—à–∏–±–∫–∏ (—Ñ–∞–π–ª realtime_handler.py, –º–µ—Ç–æ–¥
_handle_error_immediately). –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —É—Ä–æ–≤–Ω—è ERROR –∏–ª–∏
CRITICAL, –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –ø—ã—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –æ—Ç—á–µ—Ç (—Å—Ç–µ–∫, –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏
–ø–æ–¥—Å–∫–∞–∑–∫–∏) –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:
```
```
–ü–æ–ª—É—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑
buffer_manager.get_recent_context().
```
```
–í—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ ErrorExpansionEngine.expand_error(error_record,
context_records).
```
```
–í–Ω—É—Ç—Ä–∏ ErrorExpansionEngine.expand_error (—Ñ–∞–π–ª error_expansion.py) —Å—Ç—Ä–æ–∏—Ç—Å—è
–æ–±—ä–µ–∫—Ç ErrorContext –∏, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏:
```
```
error_message= error_record.record.getMessage().lower()
context.context_keywords= self._extract_keywords(error_message)
context.error_classification= self._classify_error(error_message, ...)
```
## ‚Ä¢

## ‚Ä¢

## ‚Ä¢


```
–ó–¥–µ—Å—å —Å–Ω–æ–≤–∞ –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è getMessage() —É –∏—Å—Ö–æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –æ–± –æ—à–∏–±–∫–µ. –ï—Å–ª–∏ —ç—Ç–∞
–∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–∫–∞–∫ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –∏—Å—Ö–æ–¥–Ω–∞—è
–æ—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è), —Ç–æ –≤—ã–∑–æ–≤ getMessage() —Å–Ω–æ–≤–∞ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
TypeError. –í –∫–æ–¥–µ expand_error —Ç–∞–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏
–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤–≤–µ—Ä—Ö –≤ _handle_error_immediately. 3. –í _handle_error_immediately
–µ—Å—Ç—å –±–ª–æ–∫ except Exception as e, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≤–∏—Ç –ª—é–±—É—é –ø—Ä–æ–±–ª–µ–º—É –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏:
```
```
except Exceptionase:
self._logger.error(f"Error in immediate error expansion: {e}")
self._forward_to_target(error_record.record)
```
```
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤–º–µ—Å—Ç–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª –æ—à–∏–±–∫—É ‚ÄúError in
immediate error expansion‚Äù –∏ –ø—Ä–æ–¥–æ–ª–∂–∏–ª, –ø—Ä–æ—Ç–æ–ª–∫–Ω—É–≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –∑–∞–ø–∏—Å—å –æ—à–∏–±–∫–∏ –¥–∞–ª—å—à–µ
–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
```
–°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ –æ—à–∏–±–∫–∏ –≤—ã–∑–≤–∞–Ω—ã –ø–æ —Å—É—Ç–∏ **–µ–¥–∏–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π** ‚Äì –ø–æ–ø—ã—Ç–∫–æ–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞
—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Äú—Å—ã—Ä—ã–µ‚Äù —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏–ª–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ
—Ñ–æ—Ä–º–∞—Ç—ã. –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏–∑
safe_message_utils.py –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ (safe_get_message,
safe_get_raw_message), –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, OperationAggregator
–¥–ª—è –ø–æ–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç safe_get_message). –í –¥—Ä—É–≥–∏—Ö –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
(ValueAggregator, PatternDetector, ErrorExpansionEngine) —Ç–∞–∫–∏–µ –≤—ã–∑–æ–≤—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç,
–ª–∏–±–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞** : –æ–¥–Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è
–æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ emit) –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –ª–æ–≥-–∑–∞–ø–∏—Å—å –æ–± —ç—Ç–æ–π –æ—à–∏–±–∫–µ, –∫–æ—Ç–æ—Ä–∞—è —Å–∞–º–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑
–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –∏ –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é (–æ—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ—à–∏–±–∫–∏), –∏ —Ç.–¥. –í –ª–æ–≥–µ –≤–∏–¥–Ω–æ
–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π _‚ÄúExpanded error: Error in immediate error expansion...‚Äù_ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
—É–∂–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—à–∏–±–æ–∫. –≠—Ç–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ —Ç–æ–º, —á—Ç–æ **–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
–∂–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö** , —á—Ç–æ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ª–∞–≤–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–º—É —Ä–æ—Å—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–π.

# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –æ—à–∏–±–æ–∫

–î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –ª–æ–≥–≥–µ—Ä–∞,
–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ
—Ä–µ–∫—É—Ä—Å–∏–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—à–∏–±–æ–∫. –ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, —á—Ç–æ –∏ –≥–¥–µ —Å–ª–µ–¥—É–µ—Ç
–∏–∑–º–µ–Ω–∏—Ç—å:

```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è (safe_get_message) –≤–æ –≤—Å–µ—Ö
–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö:
```
```
–í ValueAggregator : –æ–±–µ—Ä–Ω—É—Ç—å –≤—ã–∑–æ–≤ record.record.getMessage() –≤ –º–µ—Ç–æ–¥–µ
ValueAggregator.process_message() –≤ –∑–∞—â–∏—Ç—É. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äì –ø–µ—Ä–µ–¥
–æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª—É—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É safe_get_message (–∏–∑
–º–æ–¥—É–ª—è safe_message_utils). –ù–∞–ø—Ä–∏–º–µ—Ä:
```
```
message= safe_get_message(record.record)
```
## 1.

## 2.


```
–≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ record.record.getMessage(). –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∞–∂–µ –ø—Ä–∏
–Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ä–º–∞—Ç–µ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
(–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω —Å –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∏–ª–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏
–∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –≤ —Å–∫–æ–±–∫–∞—Ö). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, ValueAggregator –Ω–µ –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å
–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∫—Ä–∏–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –º–æ–∂–Ω–æ
–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É —Å–∂–∞—Ç–∏—è (–ø–æ–∏—Å–∫ –º–∞—Å—Å–∏–≤–æ–≤, –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–æ–≤ –∏ —Ç.–¥.). –ï—Å–ª–∏ –ø–æ
–∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –Ω–µ —Ö–æ—á–µ—Ç—Å—è —Å—Ä–∞–∑—É —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é, –º–æ–∂–Ω–æ
–≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è safe_get_raw_message –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –±–µ–∑
—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–∂–µ –∫ –Ω–µ–π –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏.
```
```
–í PatternDetector : –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ª–æ–≥–æ–≤, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å
–∑–∞—â–∏—â–µ–Ω—ã. –í —Ñ—É–Ω–∫—Ü–∏—è—Ö _group_by_basic_criteria, _detect_patterns_in_group –∏
_create_pattern –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
–ù–∞–ø—Ä–∏–º–µ—Ä:
```
```
msg= safe_get_message(buffered_record.record)
```
```
–≤–º–µ—Å—Ç–æ buffered_record.record.getMessage(). –û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –≤ —Ü–∏–∫–ª–∞—Ö, –≥–¥–µ
—Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ö–æ–∂–µ—Å—Ç–∏. –¢–∞–∫–∂–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–∞
–ø–∞—Ç—Ç–µ—Ä–Ω–∞ (_create_pattern) –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—Ä–∞—Ç—å—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ. –≠—Ç–æ
–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –≤—ã–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–æ—Ä–º–∞—Ç–Ω—ã–º–∏
—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏. –ü–æ—Å–∫–æ–ª—å–∫—É safe_message_utils.py —É–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ,
–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ—Å–ª–æ–∂–Ω–∞.
```
```
–í ErrorExpansionEngine : –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –∑–∞–º–µ–Ω—è—Ç—å –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤
error_record.record.getMessage() –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –º–µ—Ç–æ–¥–µ
_analyze_error_context –≤–º–µ—Å—Ç–æ:
```
```
error_message= error_record.record.getMessage().lower()
```
```
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```
```
error_message= safe_get_message(error_record.record).lower()
```
```
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–∏ –≤—ã–≤–æ–¥–µ —á–∞—Å—Ç–µ–π —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏
–±–ª–æ–∫–∞ Location, Message –≤ _generate_expanded_message) —Å–ª–µ–¥—É–µ—Ç
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏. –í –ø—Ä–∏–Ω—Ü–∏–ø–µ, –µ—Å–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ—à–∏–±–∫–∞
–±—ã–ª–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –¥–∞–ª—å—à–µ –æ–Ω–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç.
–î–∞–Ω–Ω–∞—è –º–µ—Ä–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–∞–º –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–µ —É–ø–∞–¥–µ—Ç –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π
—Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—à–∏–±–∫–∏.
```
```
AggregationEngine (AggregatedLogRecord —Å–æ–∑–¥–∞–Ω–∏–µ): –•–æ—Ç—è –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º –ª–æ–≥–µ
–æ—à–∏–±–æ–∫ –ø—Ä—è–º–æ –Ω–µ –±—ã–ª–æ –∏–∑ –º–æ–¥—É–ª—è aggregation_engine.py, —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–º
–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è sample_messages –¥–ª—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏:
```
## 3.

## 4.

## 5.


```
forrecord inpattern.records[:3]:
message = record.record.getMessage()
...
```
```
–ó–¥–µ—Å—å —Ç–∞–∫–∂–µ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å safe_get_message(record.record). –ï—Å–ª–∏ –≤–¥—Ä—É–≥ –≤
–ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–ø–∞–ª–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–∞–ø–∏—Å–∏, —ç—Ç–æ –Ω–µ —Å–æ—Ä–≤–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏.
```
```
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è/–ø—Ä–æ–ø—É—Å–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞: –í–∞–∂–Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é,
–∫–æ–≥–¥–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (—Å –∏–º–µ–Ω–∞–º–∏ –ª–æ–≥–≥–µ—Ä–æ–≤ log_aggregator.*)
–ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–µ–º –∂–µ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º, –≤—ã–∑—ã–≤–∞—è —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫. –í–æ–∑–º–æ–∂–Ω—ã–µ
—Ä–µ—à–µ–Ω–∏—è:
```
```
–Ø–≤–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–≥–µ—Ä—ã –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –±–µ–∑ –ø—Ä–æ–ø–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å. –ù–∞–ø—Ä–∏–º–µ—Ä,
–ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ LoggerManager.get_logger("log_aggregator.realtime_handler")
—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞ propagate = False –∏ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –µ–≥–æ –≤—ã–≤–æ–¥ —Ç–æ–ª—å–∫–æ –≤
–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ª–æ–≥–æ–≤ (–∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ñ–∞–π–ª). –¢–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Ä–æ–¥–µ ‚ÄúError in
AggregatingHandler.emit...‚Äù –Ω–µ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ AggregatingHandler, –∞ –∑–∞–ø–∏—à—É—Ç—Å—è —Å—Ä–∞–∑—É –≤
—Ñ–∞–π–ª, –∏–∑–±–µ–≥–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏.
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –≤ –∫–æ–¥–µ AggregatingHandler.emit –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É: –µ—Å–ª–∏ –∏–º—è
–ª–æ–≥–≥–µ—Ä–∞ (record.name) –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å log_aggregator., —Ç–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–¥–ª—è —Ç–∞–∫–æ–π –∑–∞–ø–∏—Å–∏, –∞ —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å –µ–µ –≤ —Ü–µ–ª–µ–≤–æ–π Handler. –ù–∞–ø—Ä–∏–º–µ—Ä:
```
```
ifrecord.name.startswith("log_aggregator"):
self._forward_to_target(record)
return
```
```
–¢–∞–∫–æ–µ —É—Å–ª–æ–≤–∏–µ –ø–µ—Ä–µ–¥ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –æ—à–∏–±–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π. –≠—Ç–æ –∑–∞—â–∏—Ç–∏—Ç –æ—Ç ¬´—Å–∞–º–æ–ø–æ–∂–∏—Ä–∞–Ω–∏—è¬ª –ª–æ–≥–µ—Ä–∞ –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ
—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –æ—à–∏–±–æ–∫.
```
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª—é–±–æ–≥–æ –∏–∑ —ç—Ç–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ —É—Å—Ç—Ä–∞–Ω–∏—Ç –∫–∞—Å–∫–∞–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–∞–±–ª—é–¥–∞–≤—à–∏–π—Å—è –≤
–ª–æ–≥–µ (–∫–æ–≥–¥–∞ –∫–∞–∂–¥–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
(–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ propagate=False –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ª–æ–≥–≥–µ—Ä–æ–≤), —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –≤
–æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, debug-–ª–æ–≥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤) –∏ –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å —Å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
–≤—ã–≤–æ–¥–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π Handler: –û–±—Ä–∞—Ç–∏—Ç—å
–≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —É—á–∞—Å—Ç–æ–∫:
```
```
self._forward_to_target(record)
```
```
–∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å–ª—É—á–∞—è—Ö –æ—à–∏–±–æ–∫. –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ
–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ emit, –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –ª–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∏ –∑–∞—Ç–µ–º –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –∑–∞–ø–∏—Å—å –≤ —Ü–µ–ª–µ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫. –û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –∏–º–µ–ª–∞
–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (—á—Ç–æ –∏ —Å—Ç–∞–ª–æ –ø—Ä–∏—á–∏–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã), —Ç–æ —Ü–µ–ª–µ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
(–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π RotatingFileHandler –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å) –≤–Ω–æ–≤—å —Å—Ç–æ–ª–∫–Ω–µ—Ç—Å—è —Å —Ç–æ–π –∂–µ
–ø—Ä–æ–±–ª–µ–º–æ–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç–æ–º—É, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–Ω–∞—è –∑–∞–ø–∏—Å—å –≤–æ–æ–±—â–µ
–Ω–µ –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∞ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π logging –ø—Ä–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–∏
```
## 6.

## 7.

## 8.

## 1.


```
–≤ Handler –ø–µ—á–∞—Ç–∞–µ—Ç traceback –≤ stderr –∏ —Ç–µ—Ä—è–µ—Ç –∑–∞–ø–∏—Å—å).
–ß—Ç–æ–±—ã —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏–∫—É fallback-–ø–æ–≤–µ–¥–µ–Ω–∏—è:
–ü–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º _forward_to_target(record) –≤ –±–ª–æ–∫–µ except –∑–∞–º–µ–Ω—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
record.msg –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å–æ–æ–±—â–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä:
```
```
safe_msg= safe_get_message(record)
record.msg= f"[UNFORMATTED] {safe_msg}"
record.args = ()
```
```
–≠—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç –≤ –ª–æ–≥ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–æ –ø—Ä–æ–±–ª–µ–º–Ω—ã–º, –Ω–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤—ã–≤–µ—Å—Ç–∏
–µ–≥–æ —Ç–µ–∫—Å—Ç –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã. –û–±–Ω—É–ª–µ–Ω–∏–µ record.args –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ü–µ–ª–µ–≤–æ–π Handler
–±–æ–ª—å—à–µ –Ω–µ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–º—ã —É–∂–µ –≤—Å—Ç–∞–≤–∏–ª–∏ –≤—Å–µ –≤ —Å—Ç—Ä–æ–∫—É).
–î—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äì –ø–µ—Ä–µ–¥–∞—Ç—å exc_info=True –≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—à–∏–±–∫–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞, —á—Ç–æ–±—ã
—Ö–æ—Ç—è –±—ã traceback –æ —Ñ–æ—Ä–º–∞—Ç–Ω–æ–π –æ—à–∏–±–∫–µ –ø–æ–ø–∞–ª –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥. –û–¥–Ω–∞–∫–æ, —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –¥–ª—è
–æ—Ç–ª–∞–¥–∫–∏, –∞ –Ω–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –ª—É—á—à–µ –∑–∞–ø–∏—Å–∞—Ç—å —Å–∞–º —Ñ–∞–∫—Ç —Å–æ–æ–±—â–µ–Ω–∏—è.
```
–î–∞–Ω–Ω—ã–π –ø—É–Ω–∫—Ç ‚Äì _—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è_ , —Ç–∞–∫ –∫–∞–∫ –æ–Ω –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏
—Å–∞–º–æ–≥–æ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —ç—Ç–æ –ø–æ–≤—ã—Å–∏—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å: –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –æ—à–∏–±–∫–∞ –Ω–µ –±—ã–ª–∞
–ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞, –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –ø–æ—Å—Ç–∞—Ä–∞–µ—Ç—Å—è –≤—ã–≤–µ—Å—Ç–∏ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º
–æ–±—Ä–∞–∑–æ–º, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –µ–≥–æ –ø–æ—Ç–µ—Ä—è—Ç—å.

```
–¢–æ—á–µ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è:
–ü–∞—Ä–∞–º–µ—Ç—Ä error_threshold_level (—É—Ä–æ–≤–µ–Ω—å, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
–æ—à–∏–±–æ–∫) –≤ ErrorExpansionConfig –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–æ–∏—Ç "WARNING". –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç
–ø–æ–¥–Ω—è—Ç—å –µ–≥–æ –¥–æ "ERROR", —á—Ç–æ–±—ã –Ω–µ –ø—ã—Ç–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è ‚Äì
—ç—Ç–æ —Å–Ω–∏–∑–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å –º–∞–ª–æ–∑–Ω–∞—á–∏–º—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–Ω—ã–º–∏
–ø—Ä–æ–±–ª–µ–º–∞–º–∏. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –Ω—É–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∏ —É—Ä–æ–≤–Ω—è
ERROR. –ù–æ –µ—Å–ª–∏ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ WARNING —Å —Ñ–æ—Ä–º–∞—Ç–æ–º, –æ–Ω–∏ —Ç–æ–∂–µ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ
–º–µ—Ö–∞–Ω–∏–∑–º–∞.
```
```
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ AggregationConfig.debug_mode –∏–ª–∏ —Å—Ö–æ–∂–∏–µ —Ñ–ª–∞–≥–∏. –í
debug-—Ä–µ–∂–∏–º–µ –º–æ–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è, –Ω–æ –≤ production –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ
–æ—Ç–∫–ª—é—á–∏—Ç—å –∏–∑–ª–∏—à–Ω—é—é –±–æ–ª—Ç–ª–∏–≤–æ—Å—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ª–æ–≥–µ –≤–∏–¥–Ω–æ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ Processed 21
records... –ø–æ–¥—Ä—è–¥ ‚Äì –≤–µ—Ä–æ—è—Ç–Ω–æ, –¥–≤–∞ AggregatingHandler (–∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏ —Ñ–∞–π–ª–æ–≤—ã–π) –≤—ã–¥–∞–ª–∏
–æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É. –≠—Ç–æ –º–æ–∂–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å, —É–±—Ä–∞–≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å
—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º Handler ‚Äì —Ñ–∞–π–ª–æ–≤–æ–º).
```
```
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫—Ä–∞–π–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö: –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
–ø—Ä–æ–≤–µ—Å—Ç–∏ —Å–µ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤:
```
```
–°–æ–æ–±—â–µ–Ω–∏—è —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º: –≤—Ä—É—á–Ω—É—é —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
–ª–æ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–µ—Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Ñ–æ—Ä–º–∞—Ç –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
```
logger.error("Test error %d %s", 42) # –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
logger.info("Value: %d", "text") # –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è
—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
logger.warning("Format %s", 1, 2) # –ª–∏—à–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç
```
## 2.

## 3.

## 1.

## 2.

## 3.

## 4.

## 5.


```
–¢–∞–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º –≤ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.
–û–Ω–∏ –¥–æ–ª–∂–Ω—ã –ª–∏–±–æ –ø–æ–ø–∞–¥–∞—Ç—å –≤ –ª–æ–≥ –∫–∞–∫ –µ—Å—Ç—å (—Å –ø–æ–º–æ—â—å—é safe_get_message, –≤–µ—Ä–æ—è—Ç–Ω–æ –≤ –≤–∏–¥–µ
—à–∞–±–ª–æ–Ω–∞ —Å –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ args), –ª–∏–±–æ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å, –Ω–æ –±–µ–∑ —Å–±–æ–µ–≤.
–ë–æ–ª—å—à–∏–µ —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö: —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ ValueAggregator –ø–æ—Å–ª–µ
–∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –º–∞—Å—Å–∏–≤—ã, DataFrame –∏ –ø—Ä., –∏ –ø—Ä–∏
—ç—Ç–æ–º –Ω–µ –ø–∞–¥–∞–µ—Ç –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ç–∏–ø–∞—Ö. –°—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞
getMessage() –≤–µ—Ä–Ω—É–ª –Ω–µ —Å—Ç—Ä–æ–∫—É, –∞, –∫ –ø—Ä–∏–º–µ—Ä—É, –æ–±—ä–µ–∫—Ç (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ LogRecord.msg
–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç—Ä–æ–∫–æ–≤—ã–º –æ–±—ä–µ–∫—Ç–æ–º) ‚Äì —Ñ—É–Ω–∫—Ü–∏—è safe_get_message —ç—Ç–æ –ø–æ–∫—Ä–æ–µ—Ç, –Ω–æ –Ω—É–∂–Ω–æ
–ø—Ä–æ–≤–µ—Ä–∏—Ç—å.
–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å: –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π –ª–æ–≥–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤
–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∞–≤–∫–∏ –Ω–µ –Ω–∞—Ä—É—à–∏–ª–∏ thread-safety. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏
(RLock) —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ BufferManager –∏ OperationAggregator, –∏—Ö –¥–æ–ª–∂–Ω–æ —Ö–≤–∞—Ç–∏—Ç—å.
```
# –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–≤—ã—à–µ–Ω–∏—é

# —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ª–æ–≥–≥–µ—Ä–∞

–ü–æ–º–∏–º–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫, –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ, —Å–ª–µ–¥—É–µ—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—â–∏—Ö
—É–ª—É—á—à–µ–Ω–∏–π –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ª–æ–≥–≥–µ—Ä–∞, —á—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å –µ–≥–æ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —É–ø—Ä–æ—â–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É:

```
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: –£–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è,
—á—Ç–æ –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –ª–æ–≥–≥–µ—Ä–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç—ã —Å
—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. –í–æ–∑–º–æ–∂–Ω–æ, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≤–Ω—É—Ç—Ä–∏ LoggerManager.configure_logging –∏–ª–∏
–ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ AggregatingHandler —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –æ–±–µ—Ä—Ç–∫—É –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
—Å–æ–æ–±—â–µ–Ω–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä, Python logging –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å —Å–≤–æ–π logging.Formatter –∏–ª–∏
—Ñ–∏–ª—å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥ –±—ã –≤—ã–∑—ã–≤–∞—Ç—å safe_get_message –¥–ª—è –∑–∞–ø–∏—Å–µ–π –ø–µ—Ä–µ–¥ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –±—ã –Ω–µ –∑–∞–±—ã—Ç—å –ø—Ä–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É–¥—É—â–∏—Ö
–Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.
```
```
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –≤—ã–≤–æ–¥–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–ª–∞–¥–∫–∏: –ö–∞–∫ –≤–∏–¥–Ω–æ, –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä
–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–Ω–æ–≥–æ —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ DEBUG, –ø–æ–¥—Ä–æ–±–Ω—ã–µ
–æ—Ç—á–µ—Ç—ã). –í –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ –Ω–µ –≤—Å–µ –∏–∑ –Ω–∏—Ö –Ω—É–∂–Ω—ã –∫–æ–Ω–µ—á–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
```
```
–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏—Ç–æ–≥–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∫–∞–∫ –∏
–∑–∞–¥—É–º–∞–Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π ‚Äì Console AggregatingHandler –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∂–∞—Ç—É—é –∫–∞—Ä—Ç–∏–Ω—É).
–í —Ç–µ–∫—É—â–µ–º –ª–æ–≥–µ, –æ–¥–Ω–∞–∫–æ, –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç DEBUG —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç
–ø–æ–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ AggregatingHandler –¥–æ INFO –∏–ª–∏ WARNING, —á—Ç–æ–±—ã –æ—Ç—Å–µ—è—Ç—å
–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π debug-—Å–ø–∞–º.
```
```
–í —Ñ–∞–π–ª aggregated.log —Ç–∞–∫–∂–µ –ø–∏—Å–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏. –í
–∏–¥–µ–∞–ª–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ DEBUG/ERROR –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (–∏–∑ log_aggregator.*) —Ç—É–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã
–ø–æ–ø–∞–¥–∞—Ç—å (–ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è propagate=False –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞ –æ–Ω–∏ –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º
–ª–æ–≥–µ). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, aggregated.log –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —á–∏—Å—Ç—ã–º –æ—Ç—á–µ—Ç–æ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
(–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, —Ç–∞–±–ª–∏—Ü—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π), –∞ –≤—Å–µ —Å–±–æ–∏
–ª–æ–≥–≥–µ—Ä–∞ –±—É–¥—É—Ç –≤ solid_state_kinetics.log –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
```
```
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å–∞–º–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö: –ß—Ç–æ–±—ã –ª–æ–≥–≥–µ—Ä –Ω–µ –≤–ª–∏—è–ª –Ω–∞ —Ä–∞–±–æ—Ç—É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏: –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π
–ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç N –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—à–∏–±–æ–∫ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞, –æ–Ω –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞—Ç—å
```
## 6.

## 7.

## ‚Ä¢

## ‚Ä¢

## ‚Ä¢

## ‚Ä¢

## ‚Ä¢


```
–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, —Ç–∞–±–ª–∏—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –¥–∞–∂–µ –≤—Å—é
–∞–≥—Ä–µ–≥–∞—Ü–∏—é) —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –í –∫–ª–∞—Å—Å–µ AggregatingHandler –µ—Å—Ç—å —Ñ–ª–∞–≥
_enabled –∏ –º–µ—Ç–æ–¥—ã set_enabled(), toggle_error_expansion() –∏ —Ç.–¥. –ú–æ–∂–Ω–æ –≤
–±–ª–æ–∫–∞—Ö except —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å —Å—á–µ—Ç—á–∏–∫ —Å–±–æ–µ–≤ –∏ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–∏
–º–µ—Ç–æ–¥—ã (–ª–∏–±–æ —Ö–æ—Ç—è –±—ã —Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –æ—Ç–∫–ª—é—á–∏—Ç—å). –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞
–ª–æ–≥–≥–µ—Ä –≤–ø–∞–¥–∞–µ—Ç –≤ —Ü–∏–∫–ª –æ—à–∏–±–æ–∫ –∏ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤.
```
```
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤: –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å
README/–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫–∞—Å–∞—Ç–µ–ª—å–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç–µ–ø–µ—Ä—å
LoggerManager –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ª–æ–≥–∏ —Å –∏–º–µ–Ω–µ–º log_aggregator.* –ø—Ä–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏, –∏–ª–∏ —á—Ç–æ
–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–æ. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –±—É–¥—É—â–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø–æ–Ω–∏–º–∞—Ç—å
–º–æ—Ç–∏–≤—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π. –¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –ø–æ–º–µ—Ç–∏—Ç—å –≤ –∫–æ–¥–µ –º–µ—Å—Ç–∞, –≥–¥–µ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ª–æ–≥–∏.
```
```
–ü–æ–∫—Ä—ã—Ç–∏–µ –º–æ–¥—É–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏: –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
ValueAggregator, PatternDetector –∏ ErrorExpansionEngine, –∫–æ—Ç–æ—Ä—ã–µ –±—ã
–ø—Ä–æ–≤–µ—Ä—è–ª–∏ –∏—Ö —Ä–∞–±–æ—Ç—É –Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏–º
–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ LogRecord —Å –∑–∞–≤–µ–¥–æ–º–æ ‚Äú–ø–ª–æ—Ö–∏–º–∏‚Äù —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏
—É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—Ç—å—Å—è, —á—Ç–æ –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∏–ª–∏ —Ö–æ—Ç—è –±—ã –Ω–µ –ø–∞–¥–∞—é—Ç).
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–∏—Ö –∫–µ–π—Å–æ–≤ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—Å–∏—Ç –¥–æ–≤–µ—Ä–∏–µ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
–ª–æ–≥–≥–µ—Ä–∞.
```
–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ–∑–≤–æ–ª–∏—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
—Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Open_ThermoKinetics. –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–∂–µ
–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–ª–∏ –æ—à–∏–±–æ—á–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–µ –¥–æ–ø—É—Å–∫–∞—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤
—Ä–∞–Ω—Ç–∞–π–º–µ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –±—É–¥—É—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –Ω–∞
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ –∏ –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, —á—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤ —á–∏—â–µ –∏
–ø–æ–Ω—è—Ç–Ω–µ–µ. –ö–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–ª–µ–¥—É–µ—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤
–∫–æ–¥–∞ (–º–æ–¥—É–ª–∏ **realtime_handler.py** , **value_aggregator.py** , **pattern_detector.py** , **error_expansion.py** –∏
–¥—Ä., –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ) –∏ –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Ä–µ—à–µ–Ω–∏–∏
–ø—Ä–æ–±–ª–µ–º—ã.

## ‚Ä¢

## ‚Ä¢


